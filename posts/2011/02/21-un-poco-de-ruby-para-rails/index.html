<!doctype html><html lang=en dir=auto><head><meta charset=utf-8><meta http-equiv=x-ua-compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Un poco de Ruby para Rails | AguasNegras</title><meta name=keywords content="Programación,Ruby on Rails"><meta name=description content="Bueno, parece que me han escuchado. El capítulo 4 del tutorial va sobre Ruby más que sobre Rails, para profundizar en el lenguaje y entender conceptos básicos (más allá de lo que viene siendo una variable de instancia&mldr;). Lo que voy a hacer es definir un helper para construir el contenido de la etiqueta title, en vez de usar una cadena concatenada a una variable. Para ello edito el app/helpers/application_helper.rb y añado esto:"><meta name=author content="Agustín Ventura Carrasco"><link rel=canonical href=https://www.aguasnegras.es/posts/2011/02/21-un-poco-de-ruby-para-rails/><meta name=google-site-verification content="G-W84F3CSJ3P"><link crossorigin=anonymous href=/assets/css/stylesheet.bc1149f4a72aa4858d3a9f71462f75e5884ffe8073ea9d6d5761d5663d651e20.css integrity="sha256-vBFJ9KcqpIWNOp9xRi915YhP/oBz6p1tV2HVZj1lHiA=" rel="preload stylesheet" as=style><script defer crossorigin=anonymous src=/assets/js/highlight.f413e19d0714851f6474e7ee9632408e58ac146fbdbe62747134bea2fa3415e0.js integrity="sha256-9BPhnQcUhR9kdOfuljJAjlisFG+9vmJ0cTS+ovo0FeA=" onload=hljs.initHighlightingOnLoad()></script>
<link rel=icon href=https://www.aguasnegras.es/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://www.aguasnegras.es/favicon.ico><link rel=icon type=image/png sizes=32x32 href=https://www.aguasnegras.es/favicon.ico><link rel=apple-touch-icon href=https://www.aguasnegras.es/favicon.ico><link rel=mask-icon href=https://www.aguasnegras.es/favicon.ico><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--hljs-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-W84F3CSJ3P"></script>
<script>var doNotTrack=!1;if(!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-W84F3CSJ3P",{anonymize_ip:!1})}</script><meta property="og:title" content="Un poco de Ruby para Rails"><meta property="og:description" content="Bueno, parece que me han escuchado. El capítulo 4 del tutorial va sobre Ruby más que sobre Rails, para profundizar en el lenguaje y entender conceptos básicos (más allá de lo que viene siendo una variable de instancia&mldr;). Lo que voy a hacer es definir un helper para construir el contenido de la etiqueta title, en vez de usar una cadena concatenada a una variable. Para ello edito el app/helpers/application_helper.rb y añado esto:"><meta property="og:type" content="article"><meta property="og:url" content="https://www.aguasnegras.es/posts/2011/02/21-un-poco-de-ruby-para-rails/"><meta property="og:image" content="https://www.aguasnegras.es/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta property="article:section" content="posts"><meta property="article:published_time" content="2011-02-21T00:00:00+00:00"><meta property="article:modified_time" content="2011-02-21T00:00:00+00:00"><meta property="og:site_name" content="AguasNegras"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://www.aguasnegras.es/%3Clink%20or%20path%20of%20image%20for%20opengraph,%20twitter-cards%3E"><meta name=twitter:title content="Un poco de Ruby para Rails"><meta name=twitter:description content="Bueno, parece que me han escuchado. El capítulo 4 del tutorial va sobre Ruby más que sobre Rails, para profundizar en el lenguaje y entender conceptos básicos (más allá de lo que viene siendo una variable de instancia&mldr;). Lo que voy a hacer es definir un helper para construir el contenido de la etiqueta title, en vez de usar una cadena concatenada a una variable. Para ello edito el app/helpers/application_helper.rb y añado esto:"><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Posts","item":"https://www.aguasnegras.es/posts/"},{"@type":"ListItem","position":2,"name":"Un poco de Ruby para Rails","item":"https://www.aguasnegras.es/posts/2011/02/21-un-poco-de-ruby-para-rails/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Un poco de Ruby para Rails","name":"Un poco de Ruby para Rails","description":"Bueno, parece que me han escuchado. El capítulo 4 del tutorial va sobre Ruby más que sobre Rails, para profundizar en el lenguaje y entender conceptos básicos (más allá de lo que viene siendo una variable de instancia\u0026hellip;). Lo que voy a hacer es definir un helper para construir el contenido de la etiqueta title, en vez de usar una cadena concatenada a una variable. Para ello edito el app/helpers/application_helper.rb y añado esto:","keywords":["Programación","Ruby on Rails"],"articleBody":"Bueno, parece que me han escuchado. El capítulo 4 del tutorial va sobre Ruby más que sobre Rails, para profundizar en el lenguaje y entender conceptos básicos (más allá de lo que viene siendo una variable de instancia…). Lo que voy a hacer es definir un helper para construir el contenido de la etiqueta title, en vez de usar una cadena concatenada a una variable. Para ello edito el app/helpers/application_helper.rb y añado esto:\n# Return a title on a per-page basis. def title base_title = \"Ruby on Rails Tutorial Sample App\" if @title.nil? base_title else \"#{base_title} | #{@title}\" end end end Es bastante sencillo de leer, si @title viene nulo, se “devuelve??” base_title, en otro caso la concatenación de base_title, | y title. Con ésto ya puedo dejar el título como \u003c%=title%\u003e. Atención! que va sin la @, es decir, antes era | \u003c%=@title%\u003e y ahora es \u003c%=title%\u003e, si no, solo sigue usando el título en concreto de la página. Es decir, title=Ruby on Rails Tutorial Sample App | Help mientras que @title=Help. Según explica @title es la variable, mientras que title es la invocación a la función… Joder, que fuerte. Entiendo que los métodos definidos en el application_helper son visibles por todas las páginas erb, así como que el scope de @title es “global” en tiempo de traducción de las páginas, por eso el application_helper puede usarlo. Me encuentro bastante sorprendido… esto es demasiado “ágil” para mí. Toque de clarines, en un aparente cambio de tercio, se pasa a definir el CSS de la aplicación… que suerte, con lo que me gusta a mí esto. Además toca utilizar un framework CSS, Blueprint, lo cual esta muy guay porque nunca he usado uno, hay que ver la de cosas que estoy aprendiendo con este tutorial. Abro el tar.gz de la última versión (la 1.0) y descomprimo la carpeta blueprint/ de su interior en $sample_app/public/stylesheets. Para que lo use la plantilla de la aplicación añado esto al application.html.erb después de csrf_meta_tag:\n\u003c%= stylesheet_link_tag 'blueprint/screen', :media =\u003e 'screen' %\u003e \u003c%= stylesheet_link_tag 'blueprint/print', :media =\u003e 'print' %\u003e Entiendo que la parte de stylesheet_link_tag se traduce de alguna manera mágica en un link rel a la hoja de estilo en blueprint/screen o print según proceda. Efectivamente, stylesheet_link_tag es otro helper (en este caso uno que ofrece Rails) que se encarga de buscar la hoja de estilo en el directorio por defecto (public/stylesheets) y además le concatena el .css. Lo de :media ya me sobrepasa, supongo que será otro parámetro que se pasa al helper. Por cierto que el código fuente HTML generado por la página es LIMPÍSIMO (acostumbrado a JSF…), esto me recuerda mucho a los scriptlets de JSp :’) que tiempos… Por otra parte el stylesheet_link_tag se traduce en el link rel tal como esperaba, pero la url de la hoja de estilo es esta: /stylesheets/blueprint/screen.css?1290014457 un tanto extraño, ya veremos para qué es. Ahora parece que se cacharrea con la consola de Ruby, así que antes que nada toca subir a git. La consola de Ruby es un intérprete, se invoca con\ncase@aesir:~/RoR/proyectos/sample_app$ rails console Para interrumpir un proceso en ejecución dentro de la consola: Ctrl-C, para salir de la consola en sí, Ctrl-D. Y empezamos con la descripción del lenguaje en sí, ya sabía yo que de esta no me libraba, en algún momento tiene que pasar, jeje… Comentarios: Empiezan con # y se extienden hasta el final de la línea:\n#Esto es un comentario, y lo siguiente es una suma más un comentario 17+42 #Son 69 Strings: Entre “”, como en Java. Igualmente, se concatenan con +. Por hacer unas pruebas:\nruby-1.9.2-p0 \u003e \"\" =\u003e \"\" ruby-1.9.2-p0 \u003e \"foo\" =\u003e \"foo\" ruby-1.9.2-p0 \u003e \"foo\" + \" \" + \"bar\" =\u003e \"foo bar\" ruby-1.9.2-p0 \u003e foo = \"foo\" =\u003e \"foo\" ruby-1.9.2-p0 \u003e bar = \"bar\" =\u003e \"bar\" ruby-1.9.2-p0 \u003e foo + \" \" + bar =\u003e \"foo bar\" ruby-1.9.2-p0 \u003e \"#{foo} #{bar}\" =\u003e \"foo bar\" Como curiosidad, la última línea. Se imprime foo bar mediante la interpretación de las dos cadenas con #{}. En Ruby a esto se le llama interpolación. Para imprimir, se usa puts, imprime la cadena y n (retorno de línea) y devuelve nil (nulo, vaya). Hay otro similar, print, que se limita a imprimir la cadena y devolver nils, es decir, no imprime el n.\nruby-1.9.2-p0 \u003e puts foo foo =\u003e nil ruby-1.9.2-p0 \u003e print foo foo =\u003e nil ruby-1.9.2-p0 \u003e print foo+\"n\" #Esto es igual que puts foo foo =\u003e nil También se pueden usar cadenas definidas con comillas simples: ‘foo’, con una salvedad, NO permiten interpolación! (ésto no era así también en PHP?).\nruby-1.9.2-p0 \u003e '#{foo}' =\u003e \"#{foo}\" Además con estas cadenas puedo usar caracteres especiales sin escaparlos, como en n.\nruby-1.9.2-p0 \u003e 'esto es para marcar una nueva línea n' =\u003e \"esto es para marcar una nueva línea \\n\" Total, que la gran utilidad viene a ser que me ahorro escapar los caracteres especiales. Bueno, ahora que he ido a aprovisionarme al supersol y he estado hablando un rato con mi frutero de confianza, sigo, vamos a por los objetos. En Ruby TODO es un objeto, cosa, que he de admitir que fascina mi lado más “computer scientist”, purista y talibán de la informática, así que puedo escribir cosas como:\nruby-1.9.2-p0 \u003e \"foo\".length =\u003e 3 ruby-1.9.2-p0 \u003e \"foo\".empty? =\u003e false En el último caso el “?” indica que el método invocado devuelve un booleano. Así que ya se puede hacer control de flujo:\nruby-1.9.2-p0 \u003e s = \"foobar\" =\u003e \"foobar\" ruby-1.9.2-p0 \u003e if s.empty? ruby-1.9.2-p0 ?\u003e \"Es cadena vacía\" ruby-1.9.2-p0 ?\u003e else ruby-1.9.2-p0 \u003e \"no es cadena vacía\" ruby-1.9.2-p0 ?\u003e end =\u003e \"no es cadena vacía\" Me gusta el detallito de que algo tan “rudimentario” como un intérprete, te indente el código. Los operadores a usar son los clásicos para booleanos: ||, \u0026\u0026 y !\nruby-1.9.2-p0 \u003e true \u0026amp;\u0026amp; false =\u003e false ruby-1.9.2-p0 \u003e true || false =\u003e true ruby-1.9.2-p0 \u003e !true =\u003e false Me saco de la chistera que los literales booleanos sean true o false, pero oye, funciona. Siguiendo con el tutorial veo que si se quiere evaluar una sola condición lógica basta con poner instrucción condición, es decir:\nruby-1.9.2-p0 \u003e puts \"Cadena no vacía\" if !foo.empty? Cadena no vacía =\u003e nil ruby-1.9.2-p0 \u003e if !foo.empty? ruby-1.9.2-p0 ?\u003e puts \"cadena no vacía\" ruby-1.9.2-p0 ?\u003e end cadena no vacía =\u003e nil También se puede usar unless para hacer lo mismo:\nruby-1.9.2-p0 \u003e puts \"Cadena vacía\" unless !foo.empty? =\u003e nil Es como aplicar álgebra de Boole al lenguaje en sí, que friki, me parto. Como última particularidad booleana del lenguaje, nil siempre vale false, todo lo demás, true. Hasta el 0.\nruby-1.9.2-p0 \u003e puts \"Cero vale true\" if 0 Cero vale true =\u003e nil ruby-1.9.2-p0 \u003e puts \"nils es siempre false\" unless nil nils es siempre false =\u003e nil Por cierto, el toString() es to_s, y nil en sí también es un objeto:\nruby-1.9.2-p0 \u003e nil.to_s =\u003e \"\" ruby-1.9.2-p0 \u003e nil.to_s.empty? =\u003e true ruby-1.9.2-p0 \u003e nil.to_s.nil? =\u003e false ruby-1.9.2-p0 \u003e nil.nil? =\u003e true Y se agradece también que haya un método que chequee para nulos, nil? Ahora un poco de tipos de variables, ya se ha visto que hay variables locales (title) y “de instancia” (@title), por consola obtenemos esto:\nruby-1.9.2-p0 \u003e title NameError: undefined local variable or method `title' for main:Object from (irb):34 from /home/case/.rvm/gems/ruby-1.9.2-p0@rails3/gems/railties-3.0.1/lib/rails/commands/console.rb:44:in `start' from /home/case/.rvm/gems/ruby-1.9.2-p0@rails3/gems/railties-3.0.1/lib/rails/commands/console.rb:8:in `start' from /home/case/.rvm/gems/ruby-1.9.2-p0@rails3/gems/railties-3.0.1/lib/rails/commands.rb:23:in `' from script/rails:6:in `require' from script/rails:6:in `' ruby-1.9.2-p0 \u003e @title =\u003e nil Como me imagino que todo heredará de Object, voy a echar un vistazo a la documentación para hacerme una idea de que métodos heredan todos los objetos. Tenemos .class, == o equal?, is_a? y bastantes métodos más. En general la sintaxis me parece… interesante… ahora voy a hacer un experimentillo de algo que me gustaba bastante hacer en PHP, aprovechando que el lenguaje es de tipado debil.\nruby-1.9.2-p0 \u003e foo.class =\u003e String ruby-1.9.2-p0 \u003e foo = 0 =\u003e 0 ruby-1.9.2-p0 \u003e foo.class =\u003e Fixnum ruby-1.9.2-p0 \u003e puts \"Ok\" if foo == 0 Ok =\u003e nil ruby-1.9.2-p0 \u003e puts \"Ok\" if foo == \"0\" =\u003e nil ruby-1.9.2-p0 \u003e foo.to_s.encoding =\u003e # Perfecto, ha respondido maravillosamente a las patochadas que he hecho, y de propina, he descubierto un método que devuelve el encoding de las cadenas, jeje. Bueno, como todavía voy por el punto 4.2.4 y según la barra de desplazamiento me queda la mitad… mañana más y mejor.\n","wordCount":"1397","inLanguage":"en","datePublished":"2011-02-21T00:00:00Z","dateModified":"2011-02-21T00:00:00Z","author":{"@type":"Person","name":"Agustín Ventura Carrasco"},"mainEntityOfPage":{"@type":"WebPage","@id":"https://www.aguasnegras.es/posts/2011/02/21-un-poco-de-ruby-para-rails/"},"publisher":{"@type":"Organization","name":"AguasNegras","logo":{"@type":"ImageObject","url":"https://www.aguasnegras.es/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://www.aguasnegras.es/ accesskey=h title="AguasNegras (Alt + H)">AguasNegras</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)"><svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg><svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button></div></div><ul id=menu><li><a href=https://www.aguasnegras.es/archives/ title=archivos><span>archivos</span></a></li><li><a href=https://www.aguasnegras.es/tags/ title=tags><span>tags</span></a></li><li><a href=https://www.aguasnegras.es/about/ title="acerca de"><span>acerca de</span></a></li></ul></nav></header><main class=main><article class=post-single><header class=post-header><div class=breadcrumbs><a href=https://www.aguasnegras.es/>Home</a>&nbsp;»&nbsp;<a href=https://www.aguasnegras.es/posts/>Posts</a></div><h1 class=post-title>Un poco de Ruby para Rails</h1><div class=post-meta><span title='2011-02-21 00:00:00 +0000 UTC'>21 February 2011</span>&nbsp;·&nbsp;7 min&nbsp;·&nbsp;1397 words&nbsp;·&nbsp;Agustín Ventura Carrasco&nbsp;|&nbsp;<a href=https://github.com/agustinventura.github.io/content/posts/2011/02/21-Un%20poco%20de%20Ruby%20para%20Rails.md rel="noopener noreferrer" target=_blank>Suggest Changes</a></div></header><div class=post-content><p>Bueno, parece que me han escuchado. El capítulo 4 del tutorial va sobre Ruby más que sobre Rails, para profundizar en el lenguaje y entender conceptos básicos (más allá de lo que viene siendo una variable de instancia&mldr;).
Lo que voy a hacer es definir un helper para construir el contenido de la etiqueta title, en vez de usar una cadena concatenada a una variable. Para ello edito el app/helpers/application_helper.rb y añado esto:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1># Return a title on a per-page basis.</span>
</span></span><span class=line><span class=cl><span class=k>def</span> <span class=nf>title</span>
</span></span><span class=line><span class=cl><span class=n>base_title</span> <span class=o>=</span> <span class=s2>&#34;Ruby on Rails Tutorial Sample App&#34;</span>
</span></span><span class=line><span class=cl><span class=k>if</span> <span class=vi>@title</span><span class=o>.</span><span class=n>nil?</span>
</span></span><span class=line><span class=cl><span class=n>base_title</span>
</span></span><span class=line><span class=cl><span class=k>else</span>
</span></span><span class=line><span class=cl><span class=s2>&#34;</span><span class=si>#{</span><span class=n>base_title</span><span class=si>}</span><span class=s2> | </span><span class=si>#{</span><span class=vi>@title</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span><span class=line><span class=cl><span class=k>end</span>
</span></span></code></pre></div><p>Es bastante sencillo de leer, si @title viene nulo, se &ldquo;devuelve??&rdquo; base_title, en otro caso la concatenación de base_title, | y title. Con ésto ya puedo dejar el título como &lt;%=title%>. Atención! que va sin la @, es decir, antes era | &lt;%=@title%> y ahora es &lt;%=title%>, si no, solo sigue usando el título en concreto de la página.
Es decir, title=Ruby on Rails Tutorial Sample App | Help mientras que @title=Help. Según explica @title es la variable, mientras que title es la invocación a la función&mldr; Joder, que fuerte.
Entiendo que los métodos definidos en el application_helper son visibles por todas las páginas erb, así como que el scope de @title es &ldquo;global&rdquo; en tiempo de traducción de las páginas, por eso el application_helper puede usarlo.
Me encuentro bastante sorprendido&mldr; esto es demasiado &ldquo;ágil&rdquo; para mí.
Toque de clarines, en un aparente cambio de tercio, se pasa a definir el CSS de la aplicación&mldr; que suerte, con lo que me gusta a mí esto. Además toca utilizar un framework CSS, Blueprint, lo cual esta muy guay porque nunca he usado uno, hay que ver la de cosas que estoy aprendiendo con este tutorial.
Abro el tar.gz de la última versión (la 1.0) y descomprimo la carpeta blueprint/ de su interior en $sample_app/public/stylesheets.
Para que lo use la plantilla de la aplicación añado esto al application.html.erb después de csrf_meta_tag:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-html data-lang=html><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=err>&lt;</span>%= stylesheet_link_tag &#39;blueprint/screen&#39;, :media =&gt; &#39;screen&#39; %&gt;
</span></span><span class=line><span class=cl><span class=err>&lt;</span>%= stylesheet_link_tag &#39;blueprint/print&#39;,  :media =&gt; &#39;print&#39; %&gt;
</span></span></code></pre></div><p>Entiendo que la parte de stylesheet_link_tag se traduce de alguna manera mágica en un link rel a la hoja de estilo en blueprint/screen o print según proceda.
Efectivamente, stylesheet_link_tag es otro helper (en este caso uno que ofrece Rails) que se encarga de buscar la hoja de estilo en el directorio por defecto (public/stylesheets) y además le concatena el .css. Lo de :media ya me sobrepasa, supongo que será otro parámetro que se pasa al helper.
Por cierto que el código fuente HTML generado por la página es LIMPÍSIMO (acostumbrado a JSF&mldr;), esto me recuerda mucho a los scriptlets de JSp :&rsquo;) que tiempos&mldr;
Por otra parte el stylesheet_link_tag se traduce en el link rel tal como esperaba, pero la url de la hoja de estilo es esta: /stylesheets/blueprint/screen.css?1290014457 un tanto extraño, ya veremos para qué es.
Ahora parece que se cacharrea con la consola de Ruby, así que antes que nada toca subir a git.
La consola de Ruby es un intérprete, se invoca con</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-shell data-lang=shell><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>case</span>@aesir:~/RoR/proyectos/sample_app$ rails console
</span></span></code></pre></div><p>Para interrumpir un proceso en ejecución dentro de la consola: Ctrl-C, para salir de la consola en sí, Ctrl-D.
Y empezamos con la descripción del lenguaje en sí, ya sabía yo que de esta no me libraba, en algún momento tiene que pasar, jeje&mldr;
Comentarios: Empiezan con # y se extienden hasta el final de la línea:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=c1>#Esto es un comentario, y lo siguiente es una suma más un comentario</span>
</span></span><span class=line><span class=cl><span class=mi>17</span><span class=o>+</span><span class=mi>42</span> <span class=c1>#Son 69</span>
</span></span></code></pre></div><p>Strings: Entre &ldquo;&rdquo;, como en Java. Igualmente, se concatenan con +. Por hacer unas pruebas:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=s2>&#34;foo&#34;</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=s2>&#34;foo&#34;</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=s2>&#34;foo&#34;</span> <span class=o>+</span> <span class=s2>&#34; &#34;</span> <span class=o>+</span> <span class=s2>&#34;bar&#34;</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=s2>&#34;foo bar&#34;</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=n>foo</span> <span class=o>=</span> <span class=s2>&#34;foo&#34;</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=s2>&#34;foo&#34;</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=n>bar</span> <span class=o>=</span> <span class=s2>&#34;bar&#34;</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=s2>&#34;bar&#34;</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=n>foo</span> <span class=o>+</span> <span class=s2>&#34; &#34;</span> <span class=o>+</span> <span class=n>bar</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=s2>&#34;foo bar&#34;</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=s2>&#34;</span><span class=si>#{</span><span class=n>foo</span><span class=si>}</span><span class=s2> </span><span class=si>#{</span><span class=n>bar</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=s2>&#34;foo bar&#34;</span>
</span></span></code></pre></div><p>Como curiosidad, la última línea. Se imprime foo bar mediante la interpretación de las dos cadenas con #{}. En Ruby a esto se le llama interpolación.
Para imprimir, se usa puts, imprime la cadena y n (retorno de línea) y devuelve nil (nulo, vaya). Hay otro similar, print, que se limita a imprimir la cadena y devolver nils, es decir, no imprime el n.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=nb>puts</span> <span class=n>foo</span>
</span></span><span class=line><span class=cl><span class=n>foo</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>nil</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=nb>print</span> <span class=n>foo</span>
</span></span><span class=line><span class=cl><span class=n>foo</span> <span class=o>=&gt;</span> <span class=kp>nil</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=nb>print</span> <span class=n>foo</span><span class=o>+</span><span class=s2>&#34;n&#34;</span> <span class=c1>#Esto es igual que puts foo</span>
</span></span><span class=line><span class=cl><span class=n>foo</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>nil</span>
</span></span></code></pre></div><p>También se pueden usar cadenas definidas con comillas simples: &lsquo;foo&rsquo;, con una salvedad, NO permiten interpolación! (ésto no era así también en PHP?).</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=s1>&#39;#{foo}&#39;</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=s2>&#34;</span><span class=si>#{</span><span class=n>foo</span><span class=si>}</span><span class=s2>&#34;</span>
</span></span></code></pre></div><p>Además con estas cadenas puedo usar caracteres especiales sin escaparlos, como en n.</p><pre tabindex=0><code class=language-prettyprint data-lang=prettyprint>
ruby-1.9.2-p0 &gt; &#39;esto es para marcar una nueva línea n&#39;
=&gt; &#34;esto es para marcar una nueva línea \n&#34;
</code></pre><p>Total, que la gran utilidad viene a ser que me ahorro escapar los caracteres especiales.
Bueno, ahora que he ido a aprovisionarme al supersol y he estado hablando un rato con mi frutero de confianza, sigo, vamos a por los objetos.
En Ruby TODO es un objeto, cosa, que he de admitir que fascina mi lado más &ldquo;computer scientist&rdquo;, purista y talibán de la informática, así que puedo escribir cosas como:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=s2>&#34;foo&#34;</span><span class=o>.</span><span class=n>length</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=mi>3</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=s2>&#34;foo&#34;</span><span class=o>.</span><span class=n>empty?</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>false</span>
</span></span></code></pre></div><p>En el último caso el &ldquo;?&rdquo; indica que el método invocado devuelve un booleano. Así que ya se puede hacer control de flujo:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=n>s</span> <span class=o>=</span> <span class=s2>&#34;foobar&#34;</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=s2>&#34;foobar&#34;</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=k>if</span> <span class=n>s</span><span class=o>.</span><span class=n>empty?</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=sc>?&gt;</span>  <span class=s2>&#34;Es cadena vacía&#34;</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=sc>?&gt;</span>  <span class=k>else</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span>     <span class=s2>&#34;no es cadena vacía&#34;</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=sc>?&gt;</span>  <span class=k>end</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=s2>&#34;no es cadena vacía&#34;</span>
</span></span></code></pre></div><p>Me gusta el detallito de que algo tan &ldquo;rudimentario&rdquo; como un intérprete, te indente el código.
Los operadores a usar son los clásicos para booleanos: ||, && y !</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=kp>true</span> <span class=o>&amp;</span><span class=n>amp</span><span class=p>;</span><span class=o>&amp;</span><span class=n>amp</span><span class=p>;</span> <span class=kp>false</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>false</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=kp>true</span> <span class=o>||</span> <span class=kp>false</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>true</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=o>!</span><span class=kp>true</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>false</span>
</span></span></code></pre></div><p>Me saco de la chistera que los literales booleanos sean true o false, pero oye, funciona.
Siguiendo con el tutorial veo que si se quiere evaluar una sola condición lógica basta con poner instrucción condición, es decir:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=nb>puts</span> <span class=s2>&#34;Cadena no vacía&#34;</span> <span class=k>if</span> <span class=o>!</span><span class=n>foo</span><span class=o>.</span><span class=n>empty?</span>
</span></span><span class=line><span class=cl><span class=no>Cadena</span> <span class=n>no</span> <span class=n>vacía</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>nil</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=k>if</span> <span class=o>!</span><span class=n>foo</span><span class=o>.</span><span class=n>empty?</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=sc>?&gt;</span>  <span class=nb>puts</span> <span class=s2>&#34;cadena no vacía&#34;</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=sc>?&gt;</span>  <span class=k>end</span>
</span></span><span class=line><span class=cl><span class=n>cadena</span> <span class=n>no</span> <span class=n>vacía</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>nil</span>
</span></span></code></pre></div><p>También se puede usar unless para hacer lo mismo:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=nb>puts</span> <span class=s2>&#34;Cadena vacía&#34;</span> <span class=k>unless</span> <span class=o>!</span><span class=n>foo</span><span class=o>.</span><span class=n>empty?</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>nil</span>
</span></span></code></pre></div><p>Es como aplicar álgebra de Boole al lenguaje en sí, que friki, me parto.
Como última particularidad booleana del lenguaje, nil siempre vale false, todo lo demás, true. Hasta el 0.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=nb>puts</span> <span class=s2>&#34;Cero vale true&#34;</span> <span class=k>if</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=no>Cero</span> <span class=n>vale</span> <span class=kp>true</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>nil</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=nb>puts</span> <span class=s2>&#34;nils es siempre false&#34;</span> <span class=k>unless</span> <span class=kp>nil</span>
</span></span><span class=line><span class=cl><span class=n>nils</span> <span class=n>es</span> <span class=n>siempre</span> <span class=kp>false</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>nil</span>
</span></span></code></pre></div><p>Por cierto, el toString() es to_s, y nil en sí también es un objeto:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=kp>nil</span><span class=o>.</span><span class=n>to_s</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=s2>&#34;&#34;</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=kp>nil</span><span class=o>.</span><span class=n>to_s</span><span class=o>.</span><span class=n>empty?</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>true</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=kp>nil</span><span class=o>.</span><span class=n>to_s</span><span class=o>.</span><span class=n>nil?</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>false</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=kp>nil</span><span class=o>.</span><span class=n>nil?</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>true</span>
</span></span></code></pre></div><p>Y se agradece también que haya un método que chequee para nulos, nil?
Ahora un poco de tipos de variables, ya se ha visto que hay variables locales (title) y &ldquo;de instancia&rdquo; (@title), por consola obtenemos esto:</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=n>title</span>
</span></span><span class=line><span class=cl><span class=ss>NameError</span><span class=p>:</span> <span class=n>undefined</span> <span class=n>local</span> <span class=n>variable</span> <span class=ow>or</span> <span class=nb>method</span> <span class=sb>`title&#39; for main:Object
</span></span></span><span class=line><span class=cl><span class=sb>from (irb):34
</span></span></span><span class=line><span class=cl><span class=sb>from /home/case/.rvm/gems/ruby-1.9.2-p0@rails3/gems/railties-3.0.1/lib/rails/commands/console.rb:44:in `</span><span class=n>start</span><span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>from /home/case/.rvm/gems/ruby-1.9.2-p0@rails3/gems/railties-3.0.1/lib/rails/commands/console.rb:8:in `start&#39;</span>
</span></span><span class=line><span class=cl><span class=n>from</span> <span class=sr>/home/</span><span class=k>case</span><span class=o>/.</span><span class=n>rvm</span><span class=o>/</span><span class=n>gems</span><span class=o>/</span><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span><span class=vi>@rails3</span><span class=o>/</span><span class=n>gems</span><span class=o>/</span><span class=n>railties</span><span class=o>-</span><span class=mi>3</span><span class=o>.</span><span class=mi>0</span><span class=o>.</span><span class=mi>1</span><span class=o>/</span><span class=n>lib</span><span class=o>/</span><span class=n>rails</span><span class=o>/</span><span class=n>commands</span><span class=o>.</span><span class=n>rb</span><span class=p>:</span><span class=mi>23</span><span class=ss>:in</span> <span class=sb>`&#39;
</span></span></span><span class=line><span class=cl><span class=sb>from script/rails:6:in `</span><span class=nb>require</span><span class=s1>&#39;
</span></span></span><span class=line><span class=cl><span class=s1>from script/rails:6:in `&#39;</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=vi>@title</span>
</span></span><span class=line><span class=cl><span class=o>=&gt;</span> <span class=kp>nil</span>
</span></span></code></pre></div><p>Como me imagino que todo heredará de Object, voy a echar un vistazo a la documentación para hacerme una idea de que métodos heredan todos los objetos.
Tenemos .class, == o equal?, is_a? y bastantes métodos más. En general la sintaxis me parece&mldr; interesante&mldr; ahora voy a hacer un experimentillo de algo que me gustaba bastante hacer en PHP, aprovechando que el lenguaje es de tipado debil.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-ruby data-lang=ruby><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=n>foo</span><span class=o>.</span><span class=n>class</span>
</span></span><span class=line><span class=cl> <span class=o>=&gt;</span> <span class=nb>String</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=n>foo</span> <span class=o>=</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl> <span class=o>=&gt;</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=n>foo</span><span class=o>.</span><span class=n>class</span>
</span></span><span class=line><span class=cl> <span class=o>=&gt;</span> <span class=no>Fixnum</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=nb>puts</span> <span class=s2>&#34;Ok&#34;</span> <span class=k>if</span> <span class=n>foo</span> <span class=o>==</span> <span class=mi>0</span>
</span></span><span class=line><span class=cl><span class=no>Ok</span>
</span></span><span class=line><span class=cl> <span class=o>=&gt;</span> <span class=kp>nil</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=nb>puts</span> <span class=s2>&#34;Ok&#34;</span> <span class=k>if</span> <span class=n>foo</span> <span class=o>==</span> <span class=s2>&#34;0&#34;</span>
</span></span><span class=line><span class=cl> <span class=o>=&gt;</span> <span class=kp>nil</span>
</span></span><span class=line><span class=cl><span class=n>ruby</span><span class=o>-</span><span class=mi>1</span><span class=o>.</span><span class=mi>9</span><span class=o>.</span><span class=mi>2</span><span class=o>-</span><span class=n>p0</span> <span class=o>&gt;</span> <span class=n>foo</span><span class=o>.</span><span class=n>to_s</span><span class=o>.</span><span class=n>encoding</span>
</span></span><span class=line><span class=cl> <span class=o>=&gt;</span> <span class=c1>#&lt;Encoding:US-ASCII&gt;</span>
</span></span></code></pre></div><p>Perfecto, ha respondido maravillosamente a las patochadas que he hecho, y de propina, he descubierto un método que devuelve el encoding de las cadenas, jeje.
Bueno, como todavía voy por el punto 4.2.4 y según la barra de desplazamiento me queda la mitad&mldr; mañana más y mejor.</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://www.aguasnegras.es/tags/programaci%C3%B3n/>Programación</a></li><li><a href=https://www.aguasnegras.es/tags/ruby-on-rails/>Ruby on Rails</a></li></ul><nav class=paginav><a class=prev href=https://www.aguasnegras.es/posts/2011/06/27-bases-de-datos-para-desarrolladores-java-claves-primarias-artificiales/><span class=title>« Prev</span><br><span>Bases de Datos para Desarrolladores Java - Claves Primarias Artificiales</span></a>
<a class=next href=https://www.aguasnegras.es/posts/2011/02/20-un-poco-de-dinamismo/><span class=title>Next »</span><br><span>Un poco de dinamismo</span></a></nav><div class=share-buttons><a target=_blank rel="noopener noreferrer" aria-label="share Un poco de Ruby para Rails on twitter" href="https://twitter.com/intent/tweet/?text=Un%20poco%20de%20Ruby%20para%20Rails&url=https%3a%2f%2fwww.aguasnegras.es%2fposts%2f2011%2f02%2f21-un-poco-de-ruby-para-rails%2f&hashtags=Programaci%c3%b3n%2cRubyonRails"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM195.519 424.544c135.939.0 210.268-112.643 210.268-210.268.0-3.218.0-6.437-.153-9.502 14.406-10.421 26.973-23.448 36.935-38.314-13.18 5.824-27.433 9.809-42.452 11.648 15.326-9.196 26.973-23.602 32.49-40.92-14.252 8.429-30.038 14.56-46.896 17.931-13.487-14.406-32.644-23.295-53.946-23.295-40.767.0-73.87 33.104-73.87 73.87.0 5.824.613 11.494 1.992 16.858-61.456-3.065-115.862-32.49-152.337-77.241-6.284 10.881-9.962 23.601-9.962 37.088.0 25.594 13.027 48.276 32.95 61.456-12.107-.307-23.448-3.678-33.41-9.196v.92c0 35.862 25.441 65.594 59.311 72.49-6.13 1.686-12.72 2.606-19.464 2.606-4.751.0-9.348-.46-13.946-1.38 9.349 29.426 36.628 50.728 68.965 51.341-25.287 19.771-57.164 31.571-91.8 31.571-5.977.0-11.801-.306-17.625-1.073 32.337 21.15 71.264 33.41 112.95 33.41z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Un poco de Ruby para Rails on linkedin" href="https://www.linkedin.com/shareArticle?mini=true&url=https%3a%2f%2fwww.aguasnegras.es%2fposts%2f2011%2f02%2f21-un-poco-de-ruby-para-rails%2f&title=Un%20poco%20de%20Ruby%20para%20Rails&summary=Un%20poco%20de%20Ruby%20para%20Rails&source=https%3a%2f%2fwww.aguasnegras.es%2fposts%2f2011%2f02%2f21-un-poco-de-ruby-para-rails%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM160.461 423.278V197.561h-75.04v225.717h75.04zm270.539.0V293.839c0-69.333-37.018-101.586-86.381-101.586-39.804.0-57.634 21.891-67.617 37.266v-31.958h-75.021c.995 21.181.0 225.717.0 225.717h75.02V297.222c0-6.748.486-13.492 2.474-18.315 5.414-13.475 17.767-27.434 38.494-27.434 27.135.0 38.007 20.707 38.007 51.037v120.768H431zM123.448 88.722C97.774 88.722 81 105.601 81 127.724c0 21.658 16.264 39.002 41.455 39.002h.484c26.165.0 42.452-17.344 42.452-39.002-.485-22.092-16.241-38.954-41.943-39.002z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Un poco de Ruby para Rails on reddit" href="https://reddit.com/submit?url=https%3a%2f%2fwww.aguasnegras.es%2fposts%2f2011%2f02%2f21-un-poco-de-ruby-para-rails%2f&title=Un%20poco%20de%20Ruby%20para%20Rails"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zM446 265.638c0-22.964-18.616-41.58-41.58-41.58-11.211.0-21.361 4.457-28.841 11.666-28.424-20.508-67.586-33.757-111.204-35.278l18.941-89.121 61.884 13.157c.756 15.734 13.642 28.29 29.56 28.29 16.407.0 29.706-13.299 29.706-29.701.0-16.403-13.299-29.702-29.706-29.702-11.666.0-21.657 6.792-26.515 16.578l-69.105-14.69c-1.922-.418-3.939-.042-5.585 1.036-1.658 1.073-2.811 2.761-3.224 4.686l-21.152 99.438c-44.258 1.228-84.046 14.494-112.837 35.232-7.468-7.164-17.589-11.591-28.757-11.591-22.965.0-41.585 18.616-41.585 41.58.0 16.896 10.095 31.41 24.568 37.918-.639 4.135-.99 8.328-.99 12.576.0 63.977 74.469 115.836 166.33 115.836s166.334-51.859 166.334-115.836c0-4.218-.347-8.387-.977-12.493 14.564-6.47 24.735-21.034 24.735-38.001zM326.526 373.831c-20.27 20.241-59.115 21.816-70.534 21.816-11.428.0-50.277-1.575-70.522-21.82-3.007-3.008-3.007-7.882.0-10.889 3.003-2.999 7.882-3.003 10.885.0 12.777 12.781 40.11 17.317 59.637 17.317 19.522.0 46.86-4.536 59.657-17.321 3.016-2.999 7.886-2.995 10.885.008 3.008 3.011 3.003 7.882-.008 10.889zm-5.23-48.781c-16.373.0-29.701-13.324-29.701-29.698.0-16.381 13.328-29.714 29.701-29.714 16.378.0 29.706 13.333 29.706 29.714.0 16.374-13.328 29.698-29.706 29.698zM160.91 295.348c0-16.381 13.328-29.71 29.714-29.71 16.369.0 29.689 13.329 29.689 29.71.0 16.373-13.32 29.693-29.689 29.693-16.386.0-29.714-13.32-29.714-29.693z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Un poco de Ruby para Rails on facebook" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fwww.aguasnegras.es%2fposts%2f2011%2f02%2f21-un-poco-de-ruby-para-rails%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H342.978V319.085h66.6l12.672-82.621h-79.272v-53.617c0-22.603 11.073-44.636 46.58-44.636H425.6v-70.34s-32.71-5.582-63.982-5.582c-65.288.0-107.96 39.569-107.96 111.204v62.971h-72.573v82.621h72.573V512h-191.104c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Un poco de Ruby para Rails on whatsapp" href="https://api.whatsapp.com/send?text=Un%20poco%20de%20Ruby%20para%20Rails%20-%20https%3a%2f%2fwww.aguasnegras.es%2fposts%2f2011%2f02%2f21-un-poco-de-ruby-para-rails%2f"><svg viewBox="0 0 512 512" height="30" width="30" fill="currentcolor"><path d="M449.446.0C483.971.0 512 28.03 512 62.554v386.892C512 483.97 483.97 512 449.446 512H62.554c-34.524.0-62.554-28.03-62.554-62.554V62.554c0-34.524 28.029-62.554 62.554-62.554h386.892zm-58.673 127.703c-33.842-33.881-78.847-52.548-126.798-52.568-98.799.0-179.21 80.405-179.249 179.234-.013 31.593 8.241 62.428 23.927 89.612l-25.429 92.884 95.021-24.925c26.181 14.28 55.659 21.807 85.658 21.816h.074c98.789.0 179.206-80.413 179.247-179.243.018-47.895-18.61-92.93-52.451-126.81zM263.976 403.485h-.06c-26.734-.01-52.954-7.193-75.828-20.767l-5.441-3.229-56.386 14.792 15.05-54.977-3.542-5.637c-14.913-23.72-22.791-51.136-22.779-79.287.033-82.142 66.867-148.971 149.046-148.971 39.793.014 77.199 15.531 105.329 43.692 28.128 28.16 43.609 65.592 43.594 105.4-.034 82.149-66.866 148.983-148.983 148.984zm81.721-111.581c-4.479-2.242-26.499-13.075-30.604-14.571-4.105-1.495-7.091-2.241-10.077 2.241-2.986 4.483-11.569 14.572-14.182 17.562-2.612 2.988-5.225 3.364-9.703 1.12-4.479-2.241-18.91-6.97-36.017-22.23C231.8 264.15 222.81 249.484 220.198 245s-.279-6.908 1.963-9.14c2.016-2.007 4.48-5.232 6.719-7.847 2.24-2.615 2.986-4.484 4.479-7.472 1.493-2.99.747-5.604-.374-7.846-1.119-2.241-10.077-24.288-13.809-33.256-3.635-8.733-7.327-7.55-10.077-7.688-2.609-.13-5.598-.158-8.583-.158-2.986.0-7.839 1.121-11.944 5.604-4.105 4.484-15.675 15.32-15.675 37.364.0 22.046 16.048 43.342 18.287 46.332 2.24 2.99 31.582 48.227 76.511 67.627 10.685 4.615 19.028 7.371 25.533 9.434 10.728 3.41 20.492 2.929 28.209 1.775 8.605-1.285 26.499-10.833 30.231-21.295 3.732-10.464 3.732-19.431 2.612-21.298-1.119-1.869-4.105-2.99-8.583-5.232z"/></svg></a><a target=_blank rel="noopener noreferrer" aria-label="share Un poco de Ruby para Rails on telegram" href="https://telegram.me/share/url?text=Un%20poco%20de%20Ruby%20para%20Rails&url=https%3a%2f%2fwww.aguasnegras.es%2fposts%2f2011%2f02%2f21-un-poco-de-ruby-para-rails%2f"><svg viewBox="2 2 28 28" height="30" width="30" fill="currentcolor"><path d="M26.49 29.86H5.5a3.37 3.37.0 01-2.47-1 3.35 3.35.0 01-1-2.47V5.48A3.36 3.36.0 013 3 3.37 3.37.0 015.5 2h21A3.38 3.38.0 0129 3a3.36 3.36.0 011 2.46V26.37a3.35 3.35.0 01-1 2.47 3.38 3.38.0 01-2.51 1.02zm-5.38-6.71a.79.79.0 00.85-.66L24.73 9.24a.55.55.0 00-.18-.46.62.62.0 00-.41-.17q-.08.0-16.53 6.11a.59.59.0 00-.41.59.57.57.0 00.43.52l4 1.24 1.61 4.83a.62.62.0 00.63.43.56.56.0 00.4-.17L16.54 20l4.09 3A.9.9.0 0021.11 23.15zM13.8 20.71l-1.21-4q8.72-5.55 8.78-5.55c.15.0.23.0.23.16a.18.18.0 010 .06s-2.51 2.3-7.52 6.8z"/></svg></a></div></footer></article></main><footer class=footer><span>&copy; 2022 <a href=https://www.aguasnegras.es/>AguasNegras</a></span>
<span>Powered by
<a href=https://gohugo.io/ rel="noopener noreferrer" target=_blank>Hugo</a> &
        <a href=https://github.com/adityatelange/hugo-PaperMod/ rel=noopener target=_blank>PaperMod</a></span></footer><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentcolor"><path d="M12 6H0l6-6z"/></svg></a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>