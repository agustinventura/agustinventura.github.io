<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8"/>
    <title>Nueva API de Fecha y Hora en Java 8</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="AguasNegras, tecnología, programación y Java">
    <meta name="author" content="Agustín Ventura">
    <meta name="keywords" content="Programación, Java">
    <meta name="generator" content="JBake">
    <!-- Compiled and minified CSS -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <!-- Compiled and minified JavaScript -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <link rel="stylesheet" href="../../../css/aguasnegras.css"/>
    <link rel="shortcut icon" href="../../../favicon.ico">
  </head>
  <body>
    <header>
<nav class="light-blue darken-3">
	<div class="container">
		<div class="nav-wrapper">
		      <a class="brand-logo" href="/"><span class="pageTitle">AguasNegras</span></a>
			    <ul id="nav-mobile" class="right hide-on-med-and-down">
			        <li><a href="../../../index.html">Inicio</a></li>
			        <li><a href="../../../about.html">Acerca De</a></li>
			        <li><a href="../../../feed.xml">Suscripci&oacute;n</a></li>
			    </ul>
		</div>
	</div>
</nav>
    </header>
<div class="container">
<div class="row">
<div class="col s12">
		<h4 class="light-blue-text text-darken-1">Nueva API de Fecha y Hora en Java 8</h4>
		<div class="section">
			16 junio 2016
		</div>
		<div class="section">
			<p>Unos apuntes rápidos sobre la nueva API de fecha y hora en Java 8. Primero, clases fundamentales:<br />
1. LocalDate: La fecha en el contexto local. En una zona horaria determinada.<br />
2. LocalTime: La hora en el contexto local.<br />
3. LocalDateTime: La composición de ambas.</p>
<p>Aquí lo fundamental es que corresponden al contexto local del observador, es decir esa hora es válida para Sevilla pero no para Canarias. La hora y la fecha (por extensión) si la necesito completa se representa mediante una fecha/hora y un offset con respecto a UTC. Por ejemplo, ahora mismo en Sevilla estoy en UTC +02:00 y en Canarias en UTC +01:00. Para representar eso tengo:</p>
<ol>
<li>OffsetTime: Una hora con un Offset.</li>
<li>ZonedDateTime: Una fecha con una zona horaria que a su vez contiene un Offset.</li>
</ol>
<p>Por último hay otras dos clases MUY interesantes:</p>
<ol>
<li>Duration: Una cantidad de tiempo en horas. Es decir, 34.5 sgs, 173.25 horas, etc...</li>
<li>Period: Una cantidad de tiempo en fecha. Por ejemplo 3 días o 1.5 años, etc... Lo guay de esto es que maneja días conceptuales. Mientras que si uso Duration y añado un día son siempre 24 horas, Period tiene en cuenta, por ejemplo, el cambio horario, y si añado un día y ese día tiene 23 horas (porque ha habido que restar una hora), solo añade 23.</li>
</ol>
<p>Por último, la integración con la persistencia. El problema que hay es que Java 8 es más moderno que la especificación de persistencia (JPA 2.1), así que oficialmente no hay soporte para estos tipos, pero, si se usa Hibernate como proveedor de JPA (cosa que siempre hago porque después de probar varios es el que mejor funciona), <a href="http://docs.jboss.org/hibernate/orm/5.1/userguide/html_single/Hibernate_User_Guide.html#basic-datetime">basta con añadir una dependencia</a> y hay soporte automático:</p>
<pre><code class="language-prettyprint">&lt;dependency&gt;
    &lt;groupId&gt;org.hibernate&lt;/groupId&gt;
    &lt;artifactId&gt;hibernate-java8&lt;/artifactId&gt;
    &lt;version&gt;${hibernate.version}&lt;/version&gt;
&lt;/dependency&gt;
</code></pre>

		</div>
<div class="col s12">
<div id="disqus_thread"></div>
<script>
    var disqus_config = function () {
        this.page.url = 'http://www.aguasnegras.es/blog/2016/06/16-Nueva+API+de+Fecha+y+Hora+en+Java+8.html';
        this.page.identifier = 'blog/2016/06/16-Nueva+API+de+Fecha+y+Hora+en+Java+8.html';
    };
    (function() {
        var d = document, s = d.createElement('script');
        s.src = '//aguasnegras.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript" rel="nofollow">comments powered by Disqus.</a></noscript>
</div>
</div>
</div>
</div>
    <footer class="page-footer light-blue darken-3">
      <div class="container">
        <div class="row">
         <div class="col s5">
			<h5><a href="../../../archive.html" class="white-text">Archivo</a></h5>
			<p><a href="../../../archive.html" class="white-text">Todos los posts</a></p>
	    </div>
	    <div class="col s5">
            <h5 class="white-text">Tags</h5>
			    <a href="../../../tags/DDD.html"><div class="chip">DDD</div></a>
			    <a href="../../../tags/PostgreSQL.html"><div class="chip">PostgreSQL</div></a>
			    <a href="../../../tags/Eclipse.html"><div class="chip">Eclipse</div></a>
			    <a href="../../../tags/GitHub.html"><div class="chip">GitHub</div></a>
			    <a href="../../../tags/Time.html"><div class="chip">Time</div></a>
			    <a href="../../../tags/SVQJUG.html"><div class="chip">SVQJUG</div></a>
			    <a href="../../../tags/Minientrada.html"><div class="chip">Minientrada</div></a>
			    <a href="../../../tags/WordPress.html"><div class="chip">WordPress</div></a>
			    <a href="../../../tags/Docker.html"><div class="chip">Docker</div></a>
			    <a href="../../../tags/JUnit.html"><div class="chip">JUnit</div></a>
			    <a href="../../../tags/JavaScript.html"><div class="chip">JavaScript</div></a>
			    <a href="../../../tags/Proyectos.html"><div class="chip">Proyectos</div></a>
			    <a href="../../../tags/tutorial.html"><div class="chip">tutorial</div></a>
			    <a href="../../../tags/Spring Roo.html"><div class="chip">Spring Roo</div></a>
			    <a href="../../../tags/Emulador.html"><div class="chip">Emulador</div></a>
			    <a href="../../../tags/Markdown.html"><div class="chip">Markdown</div></a>
			    <a href="../../../tags/log4j.html"><div class="chip">log4j</div></a>
			    <a href="../../../tags/Logging.html"><div class="chip">Logging</div></a>
			    <a href="../../../tags/Java.html"><div class="chip">Java</div></a>
			    <a href="../../../tags/Hibernate.html"><div class="chip">Hibernate</div></a>
			    <a href="../../../tags/slf4j.html"><div class="chip">slf4j</div></a>
			    <a href="../../../tags/Heroku.html"><div class="chip">Heroku</div></a>
			    <a href="../../../tags/Base de Datos.html"><div class="chip">Base de Datos</div></a>
			    <a href="../../../tags/Problemas.html"><div class="chip">Problemas</div></a>
			    <a href="../../../tags/Spring.html"><div class="chip">Spring</div></a>
			    <a href="../../../tags/Date.html"><div class="chip">Date</div></a>
			    <a href="../../../tags/Android.html"><div class="chip">Android</div></a>
			    <a href="../../../tags/SQL.html"><div class="chip">SQL</div></a>
			    <a href="../../../tags/JBake.html"><div class="chip">JBake</div></a>
			    <a href="../../../tags/Ruby on Rails.html"><div class="chip">Ruby on Rails</div></a>
			    <a href="../../../tags/Git.html"><div class="chip">Git</div></a>
			    <a href="../../../tags/Linux.html"><div class="chip">Linux</div></a>
			    <a href="../../../tags/JustPlay.html"><div class="chip">JustPlay</div></a>
			    <a href="../../../tags/Cloud.html"><div class="chip">Cloud</div></a>
			    <a href="../../../tags/Wordpress.html"><div class="chip">Wordpress</div></a>
			    <a href="../../../tags/logging.html"><div class="chip">logging</div></a>
			    <a href="../../../tags/Programación.html"><div class="chip">Programación</div></a>
			    <a href="../../../tags/Tools of the Trade.html"><div class="chip">Tools of the Trade</div></a>
			    <a href="../../../tags/Amazon.html"><div class="chip">Amazon</div></a>
			    <a href="../../../tags/SEO.html"><div class="chip">SEO</div></a>
			    <a href="../../../tags/Intellij IDEA.html"><div class="chip">Intellij IDEA</div></a>
			    <a href="../../../tags/Tizen.html"><div class="chip">Tizen</div></a>
	    </div>
        <div class="col s2 right-align">
            <a href="http://twitter.com/agustinventura" target="_blank" class="social-link white-text" ><i class="fa  fa-twitter  fa-3x" title="Twitter" aria-hidden="true"></i></a>
            <a href="http://github.com/agustinventura" target="_blank" class="social-link white-text"><i class="fa  fa-github  fa-3x" title="Github" aria-hidden="true"></i></a>
            <a href="https://www.linkedin.com/in/agustinventura" target="_blank" class="social-link white-text"><i class="fa  fa-linkedin  fa-3x" title="LinkedIn" aria-hidden="true"></i></a>
        </div>
      </div>
      </div>
      </div>
      <div class="footer-copyright">
            <div class="container">
        <p class="center-align">&copy; 2016 | Mixed with <a class="footer-link white-text" href="http://materializecss.com/" target="_blank">Materialize</a> | Baked with <a <a class="footer-link white-text" href="http://jbake.org">JBake</a></p>
            </div>
          </div>
    </footer>

    <script async src="//cdn.rawgit.com/google/code-prettify/master/loader/run_prettify.js"></script>
		<script async src="//code.jquery.com/jquery-2.1.4.min.js"></script>
    <script async src="//cdnjs.cloudflare.com/ajax/libs/materialize/0.97.5/js/materialize.min.js"></script>
  </body>
</html>
